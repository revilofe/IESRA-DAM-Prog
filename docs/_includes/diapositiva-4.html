<script src="https://unpkg.com/kotlin-playground@1" data-selector="code"></script>

<section>
    <section data-markdown>
        # Unidad 4
        ## Uso de estructuras de datos avanzadas predefinidas
    </section>
    <!--
        Bloques de diapositivas
    -->
    <section data-markdown>
        ## Resultado de Aprendizaje 6

        > Escribe programas que manipulen información seleccionando y utilizando tipos avanzados de datos.

    </section>
    <section data-markdown>
        ## Criterios de evaluación

        - a) Se han escrito programas que utilicen arrays
        - b) Se han reconocido las librerías de clases relacionadas con tipos de datos avanzados.
        - c) Se han utilizado listas para almacenar y procesar información.
        - d) Se han utilizado iteradores para recorrer los elementos de las listas.
        - e) Se han reconocido las características y ventajas de cada una de la colecciones de datos disponibles.
        - f) Se han creado clases y métodos genéricos.
        - g) Se han utilizado expresiones regulares en la búsqueda de patrones en cadenas de texto.
        - h) Se han identificado las clases relacionadas con el tratamiento de documentos XML.
        - i) Se han realizado programas que realicen manipulaciones sobre documentos XML.

    </section>
    <section data-markdown>
        ## Contenidos mínimos:

        **Aplicación de estructuras predefinidas:**
        - Estructuras, tipos, definición y usos.
        - Librerías estándar de objetos.
        - Arrays, definición, tipos, creación, recorridos, búsquedas y operaciones.
        - Cadenas de caracteres, usos, recorridos. Expresiones regulares.
        - Listas, definición, tipos, creación, recorridos, búsquedas y operaciones.
        - Otras estructuras: Conjuntos y Mapas.
        - Tipos genéricos: Definición de clases y métodos genéricos.
        - XML, clases para manipularlos.
    </section>
    <section data-markdown>
        *********************
    </section>

    <!--
        Bloques de diapositivas
    -->
    <section data-markdown>
        ## Librerias (RA6.b)
        - Kotlin Standard Library
            - ![left](images/link.png) [https://kotlinlang.org/api/latest/jvm/stdlib/](https://kotlinlang.org/api/latest/jvm/stdlib/)
            - Las clases y funciones son agrupadas en paquetes (Packages).
        - Los paquetes agrupan clases, normalmente relacionadas funcionalmente.
            - Cada clase pertenece a un paquete, y cada paquete tiene un nombre.
            - Por ej. el paquete `Kotlin.math` contiene ....
            - Por ej. el paquete `kotlin.collections` contiene ...
    </section>
    <section data-markdown>
        ## Librerias (RA6.b)
        ![](images/web-stdlib.png)
    </section>

    <section data-markdown>
        - ***Actividad 4.4:*** Consulta la librería standard de Kotlin y recopila información del
            - Paquete, que tipo de clases contiene, versión en el que se liberó, a qué afecta.
            - Ejemplo de clases (3 mas características *) que contiene, y para que sirven.

        Registra el resultado de la investigación en el foro.

        |paquete|paquete|paquete|
        |---	|---	|---	|
        |kotlin *| kotlin.collections *| kotlin.concurrent|
        |kotlin.comparisons | kotlin.coroutines | kotlin.dom|
        |kotlin.io | kotlin.math | kotlin.random|
        |kotlin.ranges | kotlin.reflect | kotlin.sequences|
        |kotlin.system | kotlin.test | kotlin.text *|
        |kotlin.time|||

    </section>

    <section data-markdown>
    ## Las Collections (RA6.a)
        - Las [**colecciones**](https://github.com/revilofe/_kotlin_#colecciones) nos ayudan a referenciar un conjunto de objetos
        - Kotlin proporciona su [API](https://es.wikipedia.org/wiki/Interfaz_de_programaci%C3%B3n_de_aplicaciones) de `Collections`
        - Kotlin tiene dos variantes, mutables e inmutables.
            - mutables: tiene la capacidad de modificar una colección. (MutableList, MutableSet, HashMap, LinkedHashMap, LinkedHashMap, SortedMap).
            - inmutable: no se puede modificar. (List, Sets, Maps).

    </section>
    <section data-markdown>
        ## Las Collections (RA6.a)
        ![](images/collections.png)
    </section>
    <section data-markdown>
        ## Las Collections (RA6.a)
        ![](images/collections2.png)
    </section>
    <section data-markdown>
        ## Las Collections (RA6.a)
        Tenemos una variable `x`, que es un contenedor
        ![](images/variable.png)
    </section>
    <section data-markdown>
        ## Las Collections (RA6.a)
        Tenemos un objeto `Int` `5`, almacenado en la memoria
        ![](images/objetoEntero.png)
    </section>
    <section data-markdown>
        ## Las Collections (RA6.a)
        Una variable `x` guarda la referencia al objeto `Int` `5`
        ![](images/Variable-objetoEntero.png)
    </section>
    <section data-markdown>
        ## Las Collections (RA6.a)
        Podemos cambiar la referencia de la variable `x`, apuntando a otro objeto `Int` `6`
        ![](images/Variable-objetoEntero-Ref.png)
    </section>
    <section data-markdown>
        ## Las Collections (RA6.a)
        Podemos tener varias variables `x` y `y` apuntando a un objeto `Int` `5`
        ![](images/Variables-objetoEntero-Ref.png)
    </section>
    <section data-markdown>
        ## Las Collections. Arrays (RA6.a)
        ¿Qué pasa si necesitamos guardar referencias a cientos de objetos `Int`?
        ![](images/Array.png)
    </section>
    <section data-markdown>
        ## Las Collections. Arrays (RA6.a)
        Necesitamos un nuevo objeto `Array` que almacene referencias a esos objetos `Int`
        Tendremos una variable `myArray` que referencia a ese objeto `Array`
        ![](images/Array-objetosEnteros.png)
    </section>
    <section data-markdown>
        ## Las Collections. Arrays (RA6.a)
        Podrás cambiar la referencia de la variable `myArray`, apuntado a otro objeto `Array`
        ![](images/Array-objetosEnteros-Ref.png)
    </section>
    <section data-markdown>
        ## Las Collections. Arrays (RA6.a)
        Podrás cambiar la referencia de cualquier componente del `Array`, para apuntar a otro objeto `Int`
        ![](images/Array-objetosEnteros-Ref2.png)
    </section>
    <section data-markdown>
        ## Las Collections. Arrays (RA6.a)
        Con los arrays podemos:
        ![](images/coll-array1.png)
    </section>
    <section data-markdown>
        ## Las Collections. Arrays (RA6.a)
        Con los arrays podemos:
        ![](images/coll-array2.png)
    </section>
    <section data-markdown>
        ## Las Collections. Arrays (RA6.a)
        Con los arrays podemos:
        ![](images/coll-array3.png)
    </section>
    <section data-markdown>
        ## Las Collections. Arrays (RA6.a)
        Con los arrays podemos:
        ![](images/coll-array4.png)
    </section>
    <section data-markdown>
        ## Las Collections. Arrays (RA6.a)
        - Constructores de arrays ![left](images/link.png) [Puedes verlo aqui](https://www.techiedelight.com/declare-initialize-array-kotlin/)[ y aqui](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-array/)
            - usando la función `arrayOf()`
            - el constructor `Array(5) {1} // [1, 1, 1, 1, 1]`
            - constructores para tipos primitivos `IntArray`, `CharArray`, `BooleanArray`, `LongArray`
            - funciones para tipos primitivos `intArrayOf()`, `charArrayOf()`, `booleanArrayOf()`, `longArrayOf()`
                - Array/<Int/> es similar a Integer[], mientas que IntArray es int[].
            - función para array de nulos: `arrayOfNulls/<Int/>(5)`
            - función para array vacío: `emptyArray()`
    </section>
    <section data-markdown>
        - ***Actividad 4.1:*** Se el compilador. I
        Las imágenes A y B representan un fichero kotlin. Tu trabajo es ser el compilador y determinar si compilan y se ejecutan sin errores, y si encuentras errores, solucionalos.
        ![](images/actividad4.1a.png)
    </section>
    <section data-markdown>
        - ***Actividad 4.1:*** Se el compilador. II
        Las imágenes A y B representan un fichero kotlin. Tu trabajo es ser el compilador y determinar si compilan y se ejecutan sin errores, y si encuentras errores, solucionalos.
        ![](images/actividad4.1b.png)
    </section>
    <section data-markdown>
        - ***Actividad 4.2:*** Tienes un conjunto de imanes des ordenados. Ordenalos dentro de la función main para que de la salida que se muestra
        ![](images/actividad4.2.png)
    </section>
    <section data-markdown>
        - ***Actividad 4.2:*** Tienes un conjunto de imanes desordenados. Ordenalos dentro de la función main para que obtener la salida que se muestra

        ~~~
        fun main() {
        ......
        }
        //Salida
        Fruit = Banana
        Fruit = Blueberry
        Fruit = Pomegranate
        Fruit = Cherry
        ~~~

    </section>
    <section data-markdown>
        - ***Actividad 4.3:*** Cuando se alcance la linea //Do stuf, a que objeto apuntará cada elemento del array.
        ![](images/actividad4.3.png)
    </section>
    <section data-markdown>
        ## Las Collections. Otros (RA6.e)
        - Listas, Set y Map
        - Son inmutables por defecto.
        - MutableList, MutableSet y MutableMap son mutables.

    </section>
    <section data-markdown>
        ## Las Collections. List (RA6.e)
        ![](images/List.png)

        - ![left](images/link.png) [Operaciones especificas de listas](https://kotlinlang.org/docs/list-operations.html)
        - Permite duplicar valores
        - Tiene en cuenta el orden.
        - Puedes usar == para comparar dos conjuntos. True si contiene los mismos elementos y el orden.
    </section>
    <section data-markdown>
        ## Las Collections. List (RA6.e)
        ![](images/List-crea.png)

        - El compilador infiere el tipo, aunque puedes declararlo si quieres.
    </section>
    <section data-markdown>
        ## Las Collections. List (RA6.e)
        - Aquí declaramos el tipo

        ```
        val shopping: List&lt;String&gt;
        shopping = listOf("Tea", "Eggs", "Milk")
        ```

        ![](images/List-usa.png)

        ```
        //Recorre
        for (item in shopping) println (item)

        // Si una lista contiene una referencia a un objeto obtienes el indice
        if (shopping.contains("Milk")) {
            println(shopping.indexOf("Milk"))  //Prints 2
        }
        ```
    </section>
    <section data-markdown>
        ## Las Collections. MutableList (RA6.e)
        ![](images/MutableList.png)


        ```
        val mShopping = mutableListOf("Tea", "Eggs") //Crea mutable list
        ```
        - Las `MutableList` se crean igual pero usando un constructor especifico.
        - Estas listas tiene los mismos métodos mas los adicionales para poder modificar la lista.

    </section>
    <section data-markdown>
        ## Las Collections. MutableList (RA6.e)

        ```
        mShopping.add("Milk")  //Añade elemento al final
        mShopping.add(1, "Milk") //Añade elemento en la posición 1
        ```

        ![](images/MutableList-add.png)

    </section>

    <section data-markdown>
        ## Las Collections. MutableList (RA6.e)

        ```
        if (mShopping.contains("Milk")) {
            Shopping.remove("Milk") //Elimina el elemento Milk
        }

        if (mShopping.size > 1) {
            mShopping.removeAt(1) //Elimina el elemento en la posicion 1
        }
        ```

    </section>

    <section data-markdown>
        ## Las Collections. MutableList (RA6.e)

        ![](images/MutableList-remove.png)

    </section>


    <section data-markdown>
        ## Las Collections. MutableList (RA6.e)

        ```
        if (mShopping.size > 0) {
            mShopping.set(0, "Coffee") //Añade el elemento a la posición 0
        }
        ```

        ![](images/MutableList-replace.png)
    </section>

    <section data-markdown>
        - ***Actividad 4.4:*** Tienes un conjunto de imanes des ordenados. Ordenalos dentro de la función main para que de la salida que se muestra
        ![](images/Actividad4.4.png)
    </section>
    <section data-markdown>
        - ***Actividad 4.4:*** Tienes un conjunto de imanes desordenados. Ordenalos dentro de la función main para que obtener la salida que se muestra

        ~~~
        fun main() {
        ......
        }
        //Salida
        [Zero, Two, Four, Six]
        [Two, Four, Six, Eight]
        [Two, Four, Six, Eight, Ten]
        [Two, Four, Six, Eight, Ten]
        ~~~
    </section>
    <section data-markdown>
        ## Las Collections. Set (RA6.e)
        ![](images/List-duplicados.png)
    </section>
    <section data-markdown>
        ## Las Collections. Set (RA6.e)

        ~~~
        val friendSet = setOf("Jim",
        "Sue","Sue", //Ignorará los valores duplicados
        "Nick","Nick")
        ~~~

        ![](images/Set.png)
        - ![left](images/link.png) [Operaciones especificas de conjuntos ](https://kotlinlang.org/docs/set-operations.html)
        - No permite duplicados.
        - No tiene en cuenta el orden.
        - Puedes usar == para comparar dos conjuntos. True si contiene los mismos elementos.
    </section>

    <section data-markdown>
        ## Las Collections. Set (RA6.e)
        - Duplicado: 1 hash code
        ![](images/Set-duplicados1.png)
    </section>
    <section data-markdown>
        ## Las Collections. Set (RA6.e)
        - Duplicado: 2 Operador === (Misma referencia)

        ~~~
        val a = "Sue"
        val b = a
        val set = setOf(a, b)
        ~~~

        ![](images/Set-duplicados2.png)

    </section>
    <section data-markdown>
        ## Las Collections. Set (RA6.e)
        - Duplicado: 3 Operador == (equals function y data class)

        ~~~
        val a = Recipe("Thai Curry")
        val b = Recipe("Thai Curry")
        val set = setOf(a, b)
        ~~~

        ![](images/Set-duplicados3.png)
        - ![left](images/link.png) [Data Class](https://devexperto.com/data-classes-kotlin/)
    </section>
    <section data-markdown>
        ## Las Collections. Set (RA6.e)
        - Duplicado: 3 Operador == (equals function y data class)

        ![](images/Set-duplicados4.png)
    </section>

    <section data-markdown>
        ## Las Collections. MutableSet (RA6.e)
        - Trabajar con Mutables

        ~~~
        val mFriendSet = mutableSetOf("Jim", "Sue")
        ~~~

        ![](images/MutableSet.png)
    </section>

    <section data-markdown>
        ## Las Collections. MutableSet (RA6.e)
        - Trabajar con Mutables. Convertibles a otras colecciones.

        ~~~
        val shoppingSet = mShopping.toSet() //también toMutableSet
        if (mShopping.size > mShopping.toSet().size) {
            //mShopping has duplicate values
        }
        ~~~

        ![](images/MutableSet-copy.png)
    </section>

    <section data-markdown>
        ## Las Collections. Map (RA6.e)
        ![](images/Map.png)
        - ![left](images/link.png) [Operaciones especificas de mapas ](https://kotlinlang.org/docs/map-operations.html)
        - Utiliza pares /<key,value/>
        - Puedes tener dos claves referenciando al mismo objeto.
        - No puedes tener claves duplicadas.
    </section>
    <section data-markdown>
        ## Las Collections. Map (RA6.e)
        - Como creamos los Maps
        ![](images/Map-crea.png)
    </section>
    <section data-markdown>
        ## Las Collections. Map (RA6.e)
        - Toman la forma Mapa/<tipo_clave,tipo_valor/>
        ![](images/Map-crea2.png)
    </section>

    <section data-markdown>
        ## Las Collections. (RA6.a)
        Ademas, de arrays. También tenemos:
    </section>
    <section data-markdown>
        ## BIBLIOGRAFÍA
        - ![left](images/link.png) [https://kotlinlang.org/](https://kotlinlang.org)
        - ![left](images/link.png) [API de Array](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-array/)
        - ![left](images/link.png) [Array en kotlin](https://zetcode.com/kotlin/arrays/)
        - ![left](images/link.png) [Collections en kotlin oficial](https://kotlinlang.org/docs/collections-overview.html)
        - ![left](images/link.png) [Collections en Kotlin] (https://chercher.tech/kotlin/collections-kotlin)
        - Head First Kotlin, A Brain-Friendly Guide; Dawn Griffiths & David Griffiths; 2019 - O'Reilly Media
    </section>
    <section data-markdown>
        Bloques de diapositivas
        ![left](images/link.png) [Resumen de collections](https://kotlinlang.org/docs/collections-overview.html)
        https://play.kotlinlang.org/byExample/05_Collections/01_List
``` run-kotlin
fun main()
{
}
```
    </section>

</section>






